BullMQ + Redis (queue): durable job queue. The upload API pushes an “index this file” job to the indexing queue. (See queue.ts.)
Worker (worker.ts): separate process that pulls jobs from Redis, fetches the DB record, prepares a MeiliSearch document, sends it to Meili, and updates the DB record (sets indexed: true).
MeiliSearch: stores searchable documents and returns search results for user queries. (See meilisearch.ts and route.ts.)


If upload latency matters, push doc to a queue (Redis + BullMQ, RabbitMQ, etc.) and process indexing in a worker.

Reindex script — what it is

What: A standalone script that (re)builds the index from your primary data source (database, storage metadata).
When to run: initial setup, after schema changes (new searchable fields), or when recovering from corruption.
Key details: do it in batches, rate-limit requests, and provide progress/logging. Optionally delete the index and recreate with updated settings, or update documents in-place.
Example script outline (scripts/reindex-files.ts):